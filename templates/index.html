<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Packets F1 23</title>
  <style>
    body { font-family: sans-serif; background:#121212; color:#fff; padding:20px; }
    h1 { color:#ff3b3f; margin-bottom:20px; }
    select { margin-bottom:20px; padding:6px 10px; border-radius:6px; background:#1e1e1e; color:#fff; border:1px solid #333; }
    ul { padding:0; list-style:none; transition: all 0.3s; }
    ul.brut li { margin:4px 0; }
    ul.ameliore { display:flex; flex-wrap:wrap; gap:15px; }
    ul.ameliore li { background:#1e1e1e; padding:12px 18px; border-radius:10px; min-width:180px; text-align:center; }
    a { color:#ff6b6b; font-weight:700; text-decoration:none; }
    a:hover { text-decoration:underline; }
    .packet-name { display:block; margin-top:6px; color:#bbb; font-size:0.95em; }
  </style>
</head>
<body>
  <h1>Packets UDP F1 23</h1>

  <label for="viewMode">Mode d'affichage :</label>
  <select id="viewMode">
    <option value="brut" selected>Brut</option>
    <option value="ameliore">Amélioré</option>
  </select>

  <ul id="packetList" class="brut">
    {% set names = {
      0:"Motion",
      1:"Session",
      2:"Lap Data",
      3:"Event",
      4:"Participants",
      5:"Car Setups",
      6:"Car Telemetry",
      7:"Car Status",
      8:"Final Classification",
      9:"Lobby Info",
      10:"Car Damage",
      11:"Session History",
      12:"Tyre Sets"
    } %}
    {% for i in range(13) %}
      <li>
        <a href="/packet/{{ i }}">Packet {{ i }}</a>
        <span class="packet-name">{{ names.get(i, "Inconnu") }}</span>
      </li>
    {% endfor %}
  </ul>

  <script>
    const select = document.getElementById('viewMode');
    const list = document.getElementById('packetList');

    select.addEventListener('change', () => {
      if(select.value === 'brut') {
        list.classList.remove('ameliore');
        list.classList.add('brut');
      } else {
        list.classList.remove('brut');
        list.classList.add('ameliore');
      }
    });
  </script>
</body>
</html>
